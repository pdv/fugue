// Compiled by ClojureScript 1.10.520 {}
goog.provide('fugue.demo.demo_loader');
goog.require('cljs.core');
fugue.demo.demo_loader.cof = "(ns fugue.demo.cof\r\n  (:require [fugue.components :refer [int-slider]]\r\n            [reagent.core :as r]))\r\n\r\n;;\r\n\r\n(def note-names [\"C\" \"Db\" \"D\" \"Eb\" \"E\" \"F\" \"F#\" \"G\" \"Ab\" \"A\" \"Bb\" \"B\"])\r\n(def interval-names\r\n  [\"unison\"\r\n   \"chromatic scale\"\r\n   \"whole tone scale\"\r\n   \"diminished chord\"\r\n   \"augmented chord\"\r\n   \"circle of fourths\"\r\n   \"tritone\"\r\n   \"circle of fifths\"\r\n   \"augmented chord\"\r\n   \"diminished chord\"\r\n   \"chromatic scale\"\r\n   \"octave\"])\r\n\r\n(def container-style\r\n  {:width \"400px\"\r\n   :height \"400px\"})\r\n\r\n(def ul-style\r\n  {:list-style \"none\"\r\n   :height \"38%\"\r\n   :width \"0\"\r\n   :position \"absolute\"\r\n   :bottom \"50%\"\r\n   :left \"50%\"})\r\n\r\n(def li-style\r\n  {:height \"100%\"\r\n   :position \"absolute\"\r\n   :top \"0\"\r\n   :left \"0\"\r\n   :transform-origin \"50% 100%\"})\r\n\r\n(def i-style\r\n  {:font-style \"normal\"\r\n   :position \"absolute\"\r\n   :top \"0\"\r\n   :left \"50%\"\r\n   :transform \"translateX(-50%)\"\r\n   :border-radius \"50%\"\r\n   :width \"32px\"\r\n   :height \"32px\"\r\n   :padding \"4px\"\r\n   :text-align \"center\"\r\n   :font-size \"28px\"\r\n   :border \"2px solid #666\"\r\n   :background \"#fff\"\r\n   :color \"#666\"})\r\n\r\n(defn outer-transform [angle]\r\n  (str \"rotate(\" angle \"deg)\"))\r\n\r\n(defn inner-transform [angle]\r\n  (str \"translateX(-50%) rotate(\" (* -1 angle) \"deg)\"))\r\n\r\n(defn circle [children]\r\n  (let [slice-angle (/ 360.0 (count children))]\r\n    [:div {:style container-style}\r\n     [:div {:style (assoc container-style :position \"absolute\")}\r\n      [:ul {:style ul-style}\r\n       (for [[i child] (map-indexed vector children)\r\n             :let [angle (* i slice-angle)]]\r\n         [:li\r\n          {:style (assoc li-style :transform (outer-transform angle))}\r\n          [:i\r\n           {:style (assoc i-style :transform (inner-transform angle))}\r\n           child]])]]]))\r\n\r\n(defn gcd [a b]\r\n  (if (zero? b) a (recur b (mod a b))))\r\n\r\n(defn lcm [a b]\r\n  (/ (* a b) (gcd a b)))\r\n\r\n(defn interval-circle []\r\n  (let [root (r/atom 0)\r\n        interval (r/atom 5)]\r\n    (fn []\r\n      [:div\r\n       [int-slider root 0 11]\r\n       [:p (str \"root: \" (get note-names @root))]\r\n       [int-slider interval 1 11]\r\n       [:p (str @interval \" semitones\")]\r\n       [:p (interval-names @interval)]\r\n       (let [step @interval\r\n             limit (lcm step 12)\r\n             notes (map #(get note-names (mod (+ @root %) 12))\r\n                        (range 0 limit step))]\r\n         [circle notes])])))\r\n\r\n[interval-circle]";
fugue.demo.demo_loader.cantor = "(ns fugue.demo.cantor\r\n  (:require [fugue.colors :as colors]))\r\n\r\n;; ~\r\n\r\n(defn note->hz [note]\r\n  (as-> note v\r\n        (- v 69.0)\r\n        (/ v 12)\r\n        (js/Math.pow 2.0 v)\r\n        (* v 440.0)))\r\n\r\n(defn hz->note [freq]\r\n  (as-> freq v\r\n        (/ v 440)\r\n        (.log2 js/Math v)\r\n        (* v 12)\r\n        (+ v 69)))\r\n\r\n(def note-names [\"C\" \"Db\" \"D\" \"Eb\" \"E\" \"F\" \"F#\" \"G\" \"Ab\" \"A\" \"Bb\" \"B\"])\r\n\r\n(defn cantor [root harmonics color-fn]\r\n  (let [root-hz (note->hz root)]\r\n    [:table\r\n     {:style {:border-collapse \"collapse\"}}\r\n     [:thead\r\n      (for [i (range harmonics)] [:th (if (not= 0 i) i)])\r\n      (for [denominator (range 1 harmonics)]\r\n        [:tr\r\n         [:th denominator]\r\n         (for [numerator (range 1 harmonics)\r\n               :let [freq (/ (* root-hz numerator) denominator)\r\n                     note (hz->note freq)\r\n                     closest (.round js/Math note)]]\r\n           [:td\r\n            {:style {:backgroundColor (color-fn note)\r\n                     :height \"60px\" :width \"60px\"\r\n                     :border \"1px solid black\"\r\n                     :text-align \"center\"}}\r\n            (str (nth note-names (mod closest 12)) (int (/ closest 12)))\r\n            [:br]\r\n            (format \"%.2f\" (- note root))\r\n            [:br]\r\n            (format \"%.2f\" freq)])])]]))\r\n\r\n(def color-fns\r\n  {\"none\"  (constantly \"#fff\")\r\n   \"cents\" colors/color-by-cents\r\n   \"note\"  colors/color-by-note})\r\n\r\n(defn component []\r\n  (let [root (ratom 60)\r\n        harmonics (ratom 8)\r\n        colors (ratom \"none\")]\r\n    (fn []\r\n      [:div\r\n       \"Root\"\r\n       [slider root 0 120]\r\n       \"Harmonics\"\r\n       [slider harmonics 1 30]\r\n       \"Colors\"\r\n       [picker colors (keys color-fns)]\r\n       [cantor @root @harmonics (get color-fns @colors)]])))\r\n\r\n[component]\r\n";
fugue.demo.demo_loader.midi_monitor = "(ns fugue.demo.midi-monitor)\r\n\r\n;;\r\n\r\n(defn component []\r\n  (let [midi-in-chan (async/chan)\r\n        held-notes (ratom #{})]\r\n    (monitor-held-notes midi-in-chan held-notes)\r\n    (fn []\r\n      [:div\r\n       [midi-input midi-in-chan]\r\n       [:p @held-notes]])))\r\n\r\n[component]\r\n";

//# sourceMappingURL=demo_loader.js.map?rel=1610381659506
